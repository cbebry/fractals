 //Fern  function fern(n) {    var angle = 25;    var steps = ["X"];    for(var i = 0; i < n - 1; i++) {       steps = DoRulesFern(steps);    }	var length = steps.length;	for(var j = 0; j < length; j++) {       if(steps[j] == "-") {          ctx.rotate(-angle * deg);       }       else if(steps[j] == "+") {          ctx.rotate(angle * deg);       }       else if(steps[j] == "F") {	   ctx.lineTo(len, 0);          ctx.translate(len, 0);       }	   else if(steps[j] == "[") {	   ctx.save();       }       else if(steps[j] == "]") {	   ctx.restore();       }    } } function DoRulesFern(steps) {    var length = steps.length;    var newsteps = [];    for(var i = 0; i < length; i++) {       if((steps[i]) == "[") {          newsteps.push("[");       }else if(steps[i] == "]") {          newsteps.push("]");       }       else if(steps[i] == "-") {          newsteps.push("-");       }       else if(steps[i] == "+") {	   newsteps.push("+");       }       else if(steps[i] == "F") {	   newsteps.push("F", "F");       }       else if(steps[i] == "X") {	   newsteps.push("F", "-", "[", "[", "X", "]", "+", "X", "]", "+", "F", "[", "+", "F", "X", "]", "-", "X");       }    }	return newsteps; }